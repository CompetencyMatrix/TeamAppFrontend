<form (ngSubmit)="onSubmit()" [formGroup]="employeeForm" class="employee-form">
  <h2 class="employee-form__title">
    <span *ngIf="employeeToEdit; else newEmployeeBlock">
      {{
        'employee.form.edit.title'
          | translate
            : {
                person:
                  [employeeToEdit.name, employeeToEdit.surname]
                    .filter(Boolean)
                    .join(' ') | uppercase
              }
      }}</span
    >
    <ng-template #newEmployeeBlock
      ><span>{{ 'employee.form.add.title' | translate }}</span></ng-template
    >:
  </h2>

  <mat-form-field class="employee-form__field">
    <mat-label> {{ 'employee.form.firstname' | translate }}: </mat-label>
    <input matInput formControlName="name" type="text" />
    <!--    TODO: text to json and get correct form control and then check for errors-->
    <!--    <mat-error *ngIf="employeeForm.hasError('minLength')">-->
    <!--      Name is required-->
    <!--    </mat-error>-->
  </mat-form-field>

  <mat-form-field class="employee-form__field">
    <mat-label> {{ 'employee.form.surname' | translate }}: </mat-label>
    <input matInput formControlName="surname" type="text" />
  </mat-form-field>

  <mat-form-field>
    <mat-label>Choose a date</mat-label>
    <input matInput [matDatepicker]="picker" formControlName="hireDate" />
    <mat-hint>MM/DD/YYYY</mat-hint>
    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker #picker></mat-datepicker>
  </mat-form-field>

  <!--  <mat-form-field class="employee-form__field">-->
  <!--    <mat-label> {{ 'employee.form.hire.date' | translate }}: </mat-label>-->
  <!--    <input matInput [matDatepicker]="picker" formControlName="hireDate" />-->
  <!--    <mat-hint>MM/DD/YYYY</mat-hint>-->
  <!--    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>-->
  <!--    <mat-datepicker #picker></mat-datepicker>-->
  <!--  </mat-form-field>-->

  <mat-form-field class="employee-form__field">
    <mat-label> {{ 'employee.form.skills' | translate }}: </mat-label>
    <mat-select formControlName="skills" multiple>
      <mat-option *ngFor="let skill of skills" [value]="skill">{{
        skill
      }}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field class="employee-form__field">
    <mat-label> {{ 'employee.form.manager' | translate }}: </mat-label>
    <mat-select formControlName="manager">
      <mat-option
        *ngFor="let manager of otherEmployees"
        [value]="employeeToEdit?.manager">
        {{ manager.name }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field class="employee-form__field">
    <mat-label> {{ 'employee.form.projects' | translate }}: </mat-label>

    <mat-select formControlName="projects" multiple>
      <mat-option *ngFor="let project of projects" [value]="project">
        {{ project.name }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <button
    mat-raised-button
    [disabled]="employeeForm.invalid"
    type="submit"
    [title]="employeeForm.invalid ? 'The form is invalid' : ''">
    {{ 'employee.form.submit.button' | translate }}
  </button>
  <button mat-raised-button type="button" (click)="onResetForm()">
    {{ 'employee.form.reset.button' | translate }}
  </button>
</form>

<button mat-raised-button type="button" (click)="goBack()">Back</button>
