<mat-form-field class="chip-multiselect__field">
  <mat-label> {{ 'employee.form.skills' | translate }}: </mat-label>
  <mat-chip-grid
    #chipGrid
    aria-label="Skills selection"
    class="chip-multiselect__chip-grid">
    <mat-chip-row
      class="chip-multiselect__chip"
      *ngFor="let skill of chosenSkills"
      (removed)="remove(skill)">
      <div class="chip-multiselect__chip-stars">
        <button
          mat-icon-button
          *ngFor="let level of possibleLevelsNames"
          class="chip-multiselect__chip-star">
          <mat-icon>star</mat-icon>
        </button>
      </div>
      <div class="chip-multiselect__chip-content">
        {{ skill.name }}
        <button matChipRemove [attr.aria-label]="'remove ' + skill">
          <mat-icon>cancel</mat-icon>
        </button>
      </div>
    </mat-chip-row>
  </mat-chip-grid>

  <input
    class="chip-multiselect__input"
    placeholder="New skill..."
    #skillsInput
    [formControl]="this.skillsFormControl.control"
    [matChipInputFor]="chipGrid"
    [matAutocomplete]="auto"
    matAutocompletePosition="below"
    [matChipInputSeparatorKeyCodes]="separatorKeysCodes" />
  <mat-autocomplete
    class="chip-multiselect__select"
    #auto="matAutocomplete"
    (optionSelected)="selected($event)">
    <mat-option
      *ngFor="let skill of filteredSkills$ | async"
      [value]="skill"
      class="chip-multiselect__option">
      <div class="chip-multiselect__option-content">
        <div>
          {{ skill.name }}
        </div>
        <mat-radio-group>
          <mat-radio-button
            *ngFor="let levelName of possibleLevelsNames"
            [value]="levelName"
            [checked]="ProficiencyLevel[skill.proficiency] === levelName"
            (click)="$event.stopPropagation(); onChooseLevel(skill, levelName)"
            >{{ levelName }}</mat-radio-button
          >
        </mat-radio-group>
      </div>
    </mat-option>
  </mat-autocomplete>
</mat-form-field>
